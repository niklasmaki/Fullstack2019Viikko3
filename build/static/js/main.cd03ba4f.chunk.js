(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(11),c=n.n(u),o=n(12),i=n(2),l=n(3),m=n.n(l),s="/api/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},v=function(e){return m.a.delete("".concat(s,"/").concat(e))},p=function(e){return m.a.put("".concat(s,"/").concat(e.id),e).then(function(e){return e.data})},E=(n(38),function(e){var t=e.filter,n=e.updateFilter;return r.a.createElement("div",null,"Rajaa: ",r.a.createElement("input",{value:t,onChange:n}))}),b=function(e){var t=e.addPerson,n=e.newName,a=e.updateNewName,u=e.newNumber,c=e.updateNewNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"Nimi: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"Numero: ",r.a.createElement("input",{value:u,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},h=function(e){var t=e.person,n=e.removePerson;return r.a.createElement("div",null,t.name," ",t.number," ",r.a.createElement("button",{onClick:n},"Poista"))},w=function(e){var t=e.persons,n=e.filter,a=e.removePerson;return r.a.createElement("div",null,t.filter(function(e){return new RegExp(n,"i").test(e.name)}).map(function(e){return r.a.createElement(h,{key:e.id,person:e,removePerson:function(){return a(e.name,e.id)}})}))},j=function(e){var t=e.message;return t?r.a.createElement("div",{className:"notification"},t):null},N=function(e){var t=e.message;return t?r.a.createElement("div",{className:"error"},t):null},O=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),m=l[0],s=l[1],h=Object(a.useState)(""),O=Object(i.a)(h,2),g=O[0],P=O[1],k=Object(a.useState)(""),S=Object(i.a)(k,2),C=S[0],y=S[1],x=Object(a.useState)(""),F=Object(i.a)(x,2),J=F[0],L=F[1],R=Object(a.useState)(""),T=Object(i.a)(R,2),B=T[0],D=T[1];Object(a.useEffect)(function(){f().then(function(e){u(e)})},[]);var H=function(e){L(e),setTimeout(function(){L("")},5e3)},I=function(e){D(e),setTimeout(function(){D("")},5e3)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(j,{message:J}),r.a.createElement(N,{message:B}),r.a.createElement(E,{filter:C,updateFilter:function(e){y(e.target.value)}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(b,{addPerson:function(e){e.preventDefault();var t,a=n.find(function(e){return e.name===m});if(a)return t=a,void(window.confirm("".concat(m," on jo luettelossa, korvataanko vanha numero uudella?"))&&p(Object(o.a)({},t,{number:g})).then(function(e){u(n.map(function(n){return n.id!==t.id?n:e})),H("Muutettiin henkil\xf6n ".concat(t.name," numero")),s(""),P("")}).catch(function(e){I(e.response.data.error)}));d({name:m,number:g}).then(function(e){u(n.concat(e)),H("Lis\xe4ttiin ".concat(m)),s(""),P("")}).catch(function(e){I(e.response.data.error)})},newName:m,updateNewName:function(e){s(e.target.value)},newNumber:g,updateNewNumber:function(e){P(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(w,{persons:n,filter:C,removePerson:function(e,t){window.confirm("Poistetaanko ".concat(e,"?"))&&v(t).then(function(){u(n.filter(function(e){return e.id!==t})),H("Poistettiin ".concat(e))}).catch(function(a){u(n.filter(function(e){return e.id!==t})),I("Henkil\xf6 ".concat(e," oli jo poistettu palvelimelta"))})}}))};c.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.cd03ba4f.chunk.js.map