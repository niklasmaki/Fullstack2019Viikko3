{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","person","post","id","delete","concat","put","Filter","_ref","filter","updateFilter","react_default","a","createElement","value","onChange","PersonForm","_ref2","addPerson","newName","updateNewName","newNumber","updateNewNumber","onSubmit","type","Person","_ref3","removePerson","name","number","onClick","Persons","_ref4","persons","RegExp","test","map","App_Person","key","Notification","_ref5","message","className","ErrorNotification","_ref6","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","_useState11","_useState12","error","setError","useEffect","personService","notify","setTimeout","notifyError","App_Notification","App_ErrorNotification","App_Filter","event","target","App_PersonForm","preventDefault","existingPerson","find","window","confirm","objectSpread","updatedPerson","p","catch","App_Persons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.cd03ba4f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => (\r\n  axios\r\n    .get(baseUrl)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst add = person => (\r\n  axios\r\n    .post(baseUrl, person)\r\n    .then(response => response.data)\r\n)\r\n\r\nconst remove = id => (\r\n  axios\r\n    .delete(`${baseUrl}/${id}`)\r\n)\r\n\r\nconst update = person => (\r\n  axios.put(`${baseUrl}/${person.id}`, person)\r\n    .then(response => response.data)\r\n)\r\n\r\nexport default { getAll, add, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport './App.css'\r\n\r\nconst Filter = ({ filter, updateFilter }) => (\r\n  <div>\r\n    Rajaa: <input value={filter} onChange={updateFilter} />\r\n  </div>\r\n)\r\n\r\nconst PersonForm = ({ addPerson, newName, updateNewName, newNumber, updateNewNumber }) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      Nimi: <input value={newName} onChange={updateNewName} />\r\n    </div>\r\n    <div>\r\n      Numero: <input value={newNumber} onChange={updateNewNumber} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">lisää</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nconst Person = ({ person, removePerson }) => (\r\n  <div>\r\n    {person.name} {person.number} <button onClick={removePerson}>Poista</button>\r\n  </div>\r\n)\r\n\r\nconst Persons = ({ persons, filter, removePerson }) => {\r\n\r\n  const getPersons = () => (\r\n    persons.filter(\r\n      person => new RegExp(filter, \"i\").test(person.name)\r\n    ).map(\r\n      person => <Person\r\n        key={person.id}\r\n        person={person}\r\n        removePerson={() => removePerson(person.name, person.id)}\r\n      />\r\n    )\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {getPersons()}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (!message) return null\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  if (!message) return null\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [notification, setNotification] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  const updateNewName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const updateNewNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const updateFilter = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const replaceNumber = person => {\r\n    if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\r\n      personService\r\n        .update({ ...person, number: newNumber })\r\n        .then(updatedPerson => {\r\n          setPersons(persons.map(p => p.id !== person.id ? p : updatedPerson))\r\n          notify(`Muutettiin henkilön ${person.name} numero`)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          notifyError(error.response.data.error)\r\n        })\r\n    }\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const existingPerson = persons.find(person => person.name === newName)\r\n    if (existingPerson) {\r\n      return replaceNumber(existingPerson)\r\n    }\r\n    personService\r\n      .add({ name: newName, number: newNumber })\r\n      .then(person => {\r\n        setPersons(persons.concat(person))\r\n        notify(`Lisättiin ${newName}`)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch(error => {\r\n        notifyError(error.response.data.error)\r\n      })\r\n\r\n  }\r\n\r\n  const removePerson = (name, id) => {\r\n    if (window.confirm(`Poistetaanko ${name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          notify(`Poistettiin ${name}`)\r\n        })\r\n        .catch(error => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          notifyError(`Henkilö ${name} oli jo poistettu palvelimelta`)\r\n        })\r\n    }\r\n  }\r\n\r\n  const notify = message => {\r\n    setNotification(message)\r\n    setTimeout(() => {\r\n      setNotification('')\r\n    }, 5000)\r\n  }\r\n\r\n  const notifyError = message => {\r\n    setError(message)\r\n    setTimeout(() => {\r\n      setError('')\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Puhelinluettelo</h1>\r\n\r\n      <Notification message={notification} />\r\n      <ErrorNotification message={error} />\r\n\r\n      <Filter filter={filter} updateFilter={updateFilter} />\r\n\r\n      <h2>Lisää uusi</h2>\r\n\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        updateNewName={updateNewName}\r\n        newNumber={newNumber}\r\n        updateNewNumber={updateNewNumber}\r\n      />\r\n\r\n      <h2>Numerot</h2>\r\n\r\n      <Persons persons={persons} filter={filter} removePerson={removePerson} />\r\n\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}